<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>memasang node js dan menjalankan web server di ec2 instance</h1>
    <h1>Pastikan anda sudah menginstall node js</h1>

    <ul>
        <!-- agar mudah dalam mengatur versi node js di ec2 aws maka kita harus menginstall NVM -->
        <!-- penerapan nya : untuk versi os linux ubuntu silahkan paste link berikut -->
        <!-- 1. paste curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash -->
        <!-- "catatan" Agar nvm dapat digunakan, silakan keluar dulu dari SSH dengan perintah exit. Kemudian akses kembali EC2 instance. -->
        <!-- 2. install versi node js di amazon ec2 nya dengan perintah "nvm install <versi node js>" -->
        <!-- "catatan" kita harus samakan versi node js kita yang ada di komputer dan di amazon ec2 -->
        <!-- Well done! Node.js berhasil terpasang. Kini Anda bisa menjalankan web server. 
            3.Pastikan Anda berada di dalam folder <yang sudah di kita clone di amazon ec2> . -->
            <!-- 4. lalu ketikan perintah "npm install" -->
            <!-- 5. lalu jalankan npm run start -->
<!-- -------------------------------------------------------------------------------------------------- -->
            <!-- KETIKA DI JALANKAN AKAN MENGALAMI ERRORS -->
            <!-- BERIKUT STEPS FIX BUGS ERROR  -->
            <!-- ita perlu menjelaskan secara eksplisit private IP yang digunakan oleh instance, di mana IP tersebut pada summary instance dijelaskan bernilai 173.31.**.*** -->
            <!-- Tetapi menetapkan nilai host dengan alamat IP yang eksplisit seperti itu bukanlah hal yang baik. Kenapa? Karena ketahuilah nilai IP (baik public atau private) dapat berubah. Perubahan bisa terjadi karena pindah server atau me-restart server. Kita tidak dapat menjamin kapan perubahan tersebut bisa terjadi. Apakah Anda mau setiap kali IP berubah, kode Anda juga harus diubah? Repot sekali bukan. Lalu bagaimana solusinya?

            Solusinya adalah gunakan IP beralamat 0.0.0.0. Alamat tersebut merupakan alamat spesial yang digunakan agar komputer dapat diakses melalui seluruh alamat IP yang digunakan pada komputer tersebut. Misalnya begini, bila komputer Anda tersambung ke jaringan Wi-Fi dengan IP 192.168.100.25 dan LAN dengan IP 172.31.90.21, maka 0.0.0.0 dapat diakses melalui kedua alamat IP tersebut. Sudah paham? -->
            
            <!-- Dengan begitu di production kita dapat menggunakan alamat spesial ini untuk menghindari masalah perubahan IP -->

            <!-- Oh ya! Bila kita mengubah nilai localhost menjadi 0.0.0.0, bagaimana nasib ketika proses development kita menginginkan ia hanya dapat dijalankan di localhost? Apakah kita ubah saja nilai ip-nya secara manual pada EC2 instance tanpa melalui remote repository? Ah, itu bukan praktik yang baik.

            Lalu, adakah cara yang dapat membedakan penggunaan nilai ketika proses development dan production di EC2 instance? Jawabannya ada! Masih ingatkan dengan global objek *process.env* bisa di lihat file package.json dan(run scripts) dan server js (terlihat untuk mode production atau mide development) --> 

            <!-- Kita tidak perlu menetapkan NODE_ENV pada start-dev karena nodemon secara default menggunakan nilai "development" pada NODE_ENV. Lalu, pada proses production kita tidak menggunakan nodemon (karena kita tidak perlu lagi merestart server tiap ada perubahan), jadi cukup gunakan node saja. -->

            <!-- setelah project di push perubahan nya di github  maka setelah dari itu kita akses ssh aws ec2 dan masuk ke folder yang ingin kita configurasikan  -->

            <!-- janganm lupa setelah masuk kita pull perubahan tersebut ke server nya aws -->

            <!-- next kita npm run start-prod -->
            <!-- DONE!! -->
                <h2>h</h2>
            
                    <H2>!</H2>
            <!-- #PROCESS MANAGER -->
                <!-- BIla proses node tersebut terhenti, itu bisa dikarenakan Anda tak sengaja menghentikannya atau session SSH berakhir, maka web server pun akan terhenti. Bila web server terhenti, maka otomatis aplikasi client tidak dapat digunakan. -->
                
                
                <!-- Bayangkan bila ini terjadi pada implementasi di dunia nyata? Tentu akan merepotkan bisnis Anda. Karena agar server dapat berjalan kembali kita perlu masuk ke SSH dan menjalankan kembali perintah npm run start-prod. Sungguh tahapan yang tidak praktis. -->

                <!--  Dengan menggunakan Process Manager, Anda tidak perlu khawatir bila aplikasi Node.js terhenti disebabkan oleh crash, ia akan menjalankan ulang prosesnya secara otomatis hampir tanpa downtime. Selain itu, Process Manager dapat membantu menyeimbangkan muatan proses pada CPU yang tersedia di server, hal ini biasa disebut sebagai load balancing. Dengan begitu, aplikasi server dapat diakses secara lebih cepat -->

                     <!--kita gunakan  ssh ec2 lalu install "npm install -g pm2" -->
    
                    <!-- pm2 start npm --name "notes-api" -- run "start-prod" => perintah ini di gunakan untuk memantau web server kita  -->

                    <!-- agar terhubung secara public client harus meng inputkan url backend yang sudah terhubung ke amazon ec2 -->

                    </ul>   
    <h2></h2>
</body>
</html>